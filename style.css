/* Basic Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    font-family: sans-serif; /* Basic font, change later based on design */
    background-color: #f4f7fa; /* Light background for the page - Matches Design */
}

/* Main dashboard layout using Grid */
.dashboard-container {
    display: grid;
    grid-template-columns: 240px 1fr; /* Fixed width sidebar, rest for main content */
    grid-template-rows: 1fr; /* Take full height */
    height: 100vh; /* Full viewport height */
}

.sidebar {
    background-color: #ffffff; /* White sidebar - Matches Design */
    padding: 20px;
    border-right: 1px solid #e0e0e0; /* Subtle border */
}

.main-content {
    display: flex; /* Use flex to structure top-bar and dashboard-grid vertically */
    flex-direction: column;
    overflow-y: auto; /* Allow scrolling if content overflows */
}

.top-bar {
    background-color: #ffffff; /* White top bar - Matches Design */
    padding: 15px 30px;
    border-bottom: 1px solid #e0e0e0; /* Subtle border */
    height: 65px; /* Fixed height for top bar */
    display: flex; /* Use flex for items inside top-bar later */
    align-items: center;
    /* Prevent top-bar from shrinking */
    flex-shrink: 0;
}

/* Grid layout for the main dashboard area */
.dashboard-grid {
    padding: 30px; /* Padding around the grid */
    flex-grow: 1; /* Allow grid to take remaining vertical space */
    display: grid;
    /* Define grid columns based on "Desktop - 1": main area and details panel */
    grid-template-columns: 2fr 1fr; /* Adjust fractions as needed */
    /* Define grid rows: stock row, main chart */
    grid-template-rows: auto 1fr; /* Auto height for stock row, rest for chart */
    gap: 30px; /* Increased spacing between grid items */
    /* Define areas for easier placement (optional but helpful) */
    grid-template-areas:
        "portfolio-row details"
        "main-chart    details";
}

/* Assign grid areas */
.stock-portfolio-row {
    grid-area: portfolio-row;
    background-color: #ffffff; /* White background - Matches Design */
    padding: 15px;
    border-radius: 8px; /* Slightly rounded corners */
}

.main-chart-area {
    grid-area: main-chart;
    background-color: #ffffff; /* White background - Matches Design */
    padding: 15px;
    border-radius: 8px; /* Slightly rounded corners */
    display: flex;
    flex-direction: column;
}

.details-panel {
    grid-area: details;
    background-color: #ffffff; /* White background - Matches Design */
    padding: 15px;
    border-radius: 8px; /* Slightly rounded corners */
}

/* Basic content styling */
h2 {
    margin-bottom: 15px;
    font-size: 1.2em;
    color: #333; /* Default heading color */
}

#portfolioChart {
    max-width: 100%; /* Ensure chart canvas doesn't overflow */
    flex-grow: 1; /* Allow chart to grow vertically */
}

/* Remove placeholder styling for paragraphs */
.sidebar p, .top-bar p, .stock-portfolio-row p, .main-chart-area p, .details-panel p {
    color: inherit; /* Use default text color instead of gray */
}

/* ============================ */
/* === Top Bar Styling === */
/* ============================ */

.top-bar {
    /* Existing styles: height, background, padding, border, etc. */
    /* Add flexbox to position items inside */
    display: flex;
    justify-content: space-between; /* Pushes search to left, profile to right */
    align-items: center;
}

/* --- Search Bar --- */
.search-bar {
    display: flex;
    align-items: center;
    background-color: #f4f7fa; /* Light gray background */
    padding: 8px 15px;
    border-radius: 20px; /* Rounded corners */
    width: 300px; /* Adjust width as needed */
}

.search-icon {
    color: #aaa; /* Light gray icon color */
    margin-right: 10px;
}

.search-bar input[type="text"] {
    border: none; /* Remove default border */
    outline: none; /* Remove focus outline */
    background-color: transparent; /* Match parent background */
    width: 100%; /* Take remaining space */
    font-size: 0.9em;
}

.search-bar input[type="text"]::placeholder {
    color: #aaa; /* Placeholder text color */
}


/* --- User Profile --- */
.user-profile {
    display: flex;
    align-items: center;
}

.avatar {
    width: 36px; /* Adjust size as needed */
    height: 36px;
    border-radius: 50%; /* Make it circular */
    margin-right: 10px;
    /* Add a placeholder background color if src is empty */
    background-color: #ddd;
    /* In a real app, src would point to the image file */
    /* src: placeholder-avatar.png */
}

.user-details {
    display: flex;
    flex-direction: column;
    line-height: 1.2; /* Adjust line spacing */
}

.user-name {
    font-weight: bold;
    font-size: 0.9em;
    color: #333;
}

.user-email {
    font-size: 0.8em;
    color: #777;
}

/* ================================= */
/* === Stock Portfolio Row Styling === */
/* ================================= */

.stock-portfolio-row h2 {
 /* You might want specific styling for section titles later */
}

.cards-container {
    display: flex; /* Lay out cards horizontally */
    gap: 20px; /* Space between cards */
    overflow-x: auto; /* Enable horizontal scrolling */
    padding-bottom: 15px; /* Add some padding for scrollbar or just spacing */

    /* Optional: Hide scrollbar for cleaner look (might need vendor prefixes) */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
}
/* Optional: Hide scrollbar for Chrome, Safari, Opera */
.cards-container::-webkit-scrollbar {
    display: none;
}


/* --- Stock Card --- */
.stock-card {
    background-color: #ffffff; /* Already set by section, but good to be explicit */
    border: 1px solid #e0e0e0; /* Match subtle border style */
    border-radius: 8px; /* Match other sections */
    padding: 15px;
    min-width: 220px; /* Minimum width for each card */
    flex-shrink: 0; /* Prevent cards from shrinking */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Pushes top/bottom apart */
    transition: box-shadow 0.2s ease-in-out; /* Add hover effect later */
}

.stock-card:hover {
    /* Add a subtle shadow on hover later if desired */
    /* box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); */
}

.card-top, .card-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.card-top {
    margin-bottom: 15px; /* Space between top and bottom sections */
}

.stock-info {
    display: flex;
    align-items: center;
}

.stock-logo {
    width: 24px; /* Adjust size */
    height: 24px;
    border-radius: 50%;
    margin-right: 8px;
    background-color: #eee; /* Placeholder background */
}

.stock-name {
    font-size: 0.9em;
    font-weight: 500; /* Medium weight */
    color: #333;
}

.stock-ticker-perf {
    text-align: right;
}

.stock-ticker {
    font-size: 0.8em;
    color: #777;
    display: block; /* Put ticker above percentage */
}

.stock-perf {
    font-size: 0.9em;
    font-weight: 500;
}

.stock-perf.positive {
    color: #28a745; /* Green for positive */
}

.stock-perf.negative {
    color: #dc3545; /* Red for negative */
}

.card-bottom {
    align-items: flex-end; /* Align items to bottom */
}

.portfolio-value {
    line-height: 1.2;
}

.portfolio-label {
    font-size: 0.75em;
    color: #777;
    display: block;
}

.portfolio-amount {
    font-size: 1em;
    font-weight: bold;
    color: #333;
}

.mini-chart {
    width: 60px; /* Adjust size */
    height: 30px;
    /* Add background/styles for placeholder or actual chart later */
    background-color: #f0f0f0; /* Placeholder background */
    border-radius: 3px;
}

/* ================================= */
/* === Main Chart Area Styling === */
/* ================================= */

.main-chart-area {
    /* Existing styles: background, padding, border-radius, flex */
    /* Ensure items align to top */
    align-items: stretch; /* Override default align-items: center from flex */
}

.main-chart-area h2 {
    /* Existing h2 styles */
    /* Add specific overrides if needed */
}

.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align items to the top */
    margin-bottom: 20px; /* Space below header */
    flex-wrap: wrap; /* Allow wrapping on smaller screens if needed */
}

.chart-title-info {
    /* Container for name, value, perf */
}

.chart-title-info span {
    margin-right: 15px; /* Space between info items */
    display: inline-block; /* Allow margin */
}

.chart-stock-name {
    font-size: 1.1em;
    font-weight: bold;
    color: #333;
}

.chart-stock-value {
    font-size: 1.1em;
    font-weight: bold;
    color: #333;
}

.chart-stock-perf {
    font-size: 1em;
    font-weight: 500;
}

.chart-stock-perf.positive {
    color: #28a745; /* Green */
}

.chart-stock-perf.negative {
    color: #dc3545; /* Red */
}

.chart-stock-change {
    font-size: 0.9em;
    color: #777;
}
.chart-stock-change.positive {
    color: #28a745; /* Green */
}
.chart-stock-change.negative {
    color: #dc3545; /* Red */
}


.chart-time-ranges {
    /* Container for time range buttons */
    background-color: #f0f0f0; /* Light gray background for button group */
    border-radius: 6px;
    padding: 3px;
    display: inline-flex; /* Make container only as wide as buttons */
}

.time-range-btn {
    background-color: transparent; /* Default transparent background */
    border: none;
    padding: 5px 10px;
    margin: 0 2px; /* Small space between buttons */
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.8em;
    color: #555;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.time-range-btn:hover {
    background-color: #e0e0e0; /* Slightly darker on hover */
}

.time-range-btn.active {
    background-color: #ffffff; /* White background for active */
    color: #333; /* Darker text for active */
    font-weight: bold;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1); /* Subtle shadow for active */
}

#portfolioChart {
    /* Existing styles: max-width, flex-grow */
    /* Make sure it doesn't shrink */
    min-height: 250px; /* Give it a minimum height */
    flex-shrink: 0;
}

.chart-footer {
    margin-top: 10px; /* Space above the footer */
    text-align: right; /* Align text to the right */
}

.prev-close-label {
    font-size: 0.8em;
    color: #777;
}

/* ============================ */
/* === Details Panel Styling === */
/* ============================ */

.details-panel {
    /* Existing styles: background, padding, border-radius, grid-area */
    /* Add flex column to stack cards */
    display: flex;
    flex-direction: column;
    gap: 20px; /* Space between cards inside the panel */
}

.details-panel h2 {
    /* Existing h2 styles */
    margin-bottom: 0; /* Adjust margin if needed, as cards have internal spacing */
}

.details-card {
    /* Common styles for cards within the details panel */
    background-color: #ffffff; /* Ensure white background */
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px;
}

/* --- S&P 500 Details Card --- */
.sp500-details .details-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px; /* Space below header */
    padding-bottom: 10px; /* Space above border */
    border-bottom: 1px solid #f0f0f0; /* Light border below header */
}

.details-title {
    font-weight: bold;
    font-size: 1em;
}

.details-time-filter {
    display: flex;
    align-items: center;
    background-color: #f0f0f0; /* Match time range button group style */
    border-radius: 6px;
    padding: 5px 8px;
    font-size: 0.8em;
    color: #555;
    cursor: pointer; /* Indicate it's clickable */
}

.details-time-filter i {
    margin: 0 3px; /* Space around icons */
    font-size: 0.9em;
}

.details-card-body {
    /* Container for key-value pairs */
}

.detail-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0; /* Vertical padding for each item */
    font-size: 0.9em;
    border-bottom: 1px solid #f9f9f9; /* Very light border between items */
}

.detail-item:last-child {
    border-bottom: none; /* Remove border from last item */
}

.detail-key {
    color: #555; /* Grayish color for the key */
}

.detail-value {
    color: #333; /* Darker color for the value */
    font-weight: 500; /* Medium weight */
}

/* --- Market Cap Summary Card --- */
.market-cap-summary {
    display: flex;
    align-items: center;
    /* Inherits background/border/radius from .details-card */
}

.market-cap-icon {
    font-size: 1.2em; /* Adjust icon size */
    color: #555; /* Match key color */
    margin-right: 10px;
}

.market-cap-label {
    color: #555;
    font-size: 0.9em;
    margin-right: auto; /* Push value to the right */
}

.market-cap-value {
    color: #333;
    font-weight: bold;
    font-size: 1em;
}

/* ============================ */
/* === Sidebar Styling === */
/* ============================ */

.sidebar {
    /* Existing styles: background, padding, border */
    /* Add flex column to stack sections */
    display: flex;
    flex-direction: column;
    gap: 25px; /* Space between sidebar sections */
}

.sidebar-header {
    /* Container for logo/title */
    padding-top: 10px; /* Adjust spacing */
    text-align: center; /* Center title if no logo */
}

.sidebar-title {
    font-size: 1.3em;
    font-weight: bold;
    color: #333; /* Or your brand color */
    /* Add letter-spacing, etc. if needed */
}

/* --- Watchlist Section --- */
.sidebar-watchlist {
    /* Container for watchlist items */
}

.watchlist-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    margin-bottom: 5px; /* Space between items */
    border-radius: 6px;
    text-decoration: none;
    color: inherit; /* Use default text color */
    transition: background-color 0.2s ease;
}

.watchlist-item:hover {
    background-color: #f0f0f0; /* Light gray background on hover */
}

.watchlist-ticker {
    font-size: 0.9em;
    font-weight: 500;
    color: #333;
}

.watchlist-details {
    text-align: right;
}

.watchlist-value {
    font-size: 0.9em;
    color: #555;
    display: block;
}

.watchlist-change {
    font-size: 0.8em;
    font-weight: 500;
}

.watchlist-change.positive {
    color: #28a745; /* Green */
}

.watchlist-change.negative {
    color: #dc3545; /* Red */
}


/* --- Main Menu Section --- */
.sidebar-menu {
    /* Container for menu */
    margin-top: 10px; /* Add space above menu */
    flex-grow: 1; /* Allow menu to take remaining space if needed */
}

.menu-title {
    font-size: 0.75em;
    font-weight: bold;
    color: #aaa; /* Light gray color for title */
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 10px;
    padding: 0 10px; /* Align with menu item padding */
}

.sidebar-menu ul {
    list-style: none; /* Remove default bullet points */
    padding: 0;
    margin: 0;
}

.sidebar-menu li {
    margin-bottom: 5px; /* Space between menu items */
}

.menu-item {
    display: flex;
    align-items: center;
    padding: 10px;
    border-radius: 6px;
    text-decoration: none;
    color: #555; /* Default menu item color */
    transition: background-color 0.2s ease, color 0.2s ease;
    font-size: 0.95em;
}

.menu-item:hover {
    background-color: #f0f0f0; /* Light background on hover */
    color: #333;
}

.menu-item.active {
    background-color: #e0e0e0; /* Slightly darker background for active item */
    color: #333;
    font-weight: 500;
}

.menu-icon {
    width: 20px; /* Fixed width for icon alignment */
    text-align: center;
    margin-right: 10px;
    font-size: 1.1em; /* Adjust icon size */
    color: #888; /* Icon color */
}

.menu-item:hover .menu-icon,
.menu-item.active .menu-icon {
    color: #333; /* Darker icon on hover/active */
}

.menu-text {
    /* Styling for the text part */
}

/* ============================================ */
/* === Chart Container & Canvas Fix Styling === */
/* ============================================ */

.main-chart-area {
    /* Existing styles: background, padding, border-radius, flex, gap */
    display: flex;
    flex-direction: column;
    /* Ensure the container itself doesn't grow infinitely if flex basis isn't respected */
    overflow: hidden; /* Add overflow hidden */
    position: relative; /* Needed for absolute positioning if used inside, good practice */
}

/* New wrapper div */
.chart-canvas-container {
    flex-grow: 1; /* Allow this container to take available vertical space */
    position: relative; /* Crucial for Chart.js responsiveness sizing */
    /* You might need to explicitly set a height/min-height here if flex-grow isn't enough */
    min-height: 250px; /* Or inherit from parent if possible */
}

#portfolioChart {
    /* Remove positioning/sizing rules that might conflict */
    /* Remove flex-grow, flex-shrink, min-height from here */
    max-width: 100%;
    /* Chart.js will handle sizing relative to the wrapper */
}

/* ============================ */
/* === Mini Chart Styling === */
/* ============================ */

.mini-chart {
    width: 60px; /* Match SVG width */
    height: 30px; /* Match SVG height */
    /* background-color: #f0f0f0; Remove placeholder background */
    display: inline-block; /* Or flex item depending on card-bottom layout */
    vertical-align: middle; /* Align with text if needed */
    line-height: 0; /* Prevent extra space below SVG */
}

.mini-chart svg {
    display: block; /* Prevent extra space below SVG */
    width: 100%;
    height: 100%;
}

/* Polyline styling is mostly done inline via stroke attribute,
   but you could add defaults here if needed */
.mini-chart svg polyline {
    /* stroke-width: 1.5; */ /* Set in JS */
    /* fill: none; */ /* Set in JS */
}

/* ================================= */
/* === Stock Portfolio Row Styling (Updated for Scroll) === */
/* ================================= */

.stock-portfolio-row {
    /* Existing styles: background, padding, border-radius, grid-area */
    /* Add relative positioning to contain absolute arrows */
    position: relative;
    /* Adjust padding if needed */
    padding: 15px 20px; /* Example padding */
}

.stock-portfolio-row .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px; /* Space between header and cards */
}

.stock-portfolio-row h2 {
    margin-bottom: 0; /* Remove bottom margin as it's handled by header */
}

.cards-container {
    display: flex;
    gap: 20px;
    /* REMOVE overflow-x: auto; */
    overflow: hidden; /* Hide cards that don't fit */
    /* Add smooth scrolling behavior */
    scroll-behavior: smooth;
    /* Remove padding-bottom for scrollbar */
    padding-bottom: 0;
}

/* --- Stock Card (Ensure fixed width) --- */
.stock-card {
    /* Existing styles: background, border, radius, padding, flex-shrink */
    min-width: 220px; /* Or your desired fixed width */
    width: 220px; /* Set explicit width */
}


/* --- Scroll Arrow Buttons --- */
.scroll-buttons {
    display: flex;
    gap: 5px; /* Space between arrows */
}

.scroll-arrow {
    background-color: #e0e0e0; /* Example background */
    border: none;
    color: #555;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    font-size: 0.8em;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.scroll-arrow:hover {
    background-color: #ccc;
    color: #000;
}

.scroll-arrow:disabled {
    background-color: #f0f0f0; /* Lighter background when disabled */
    color: #bbb;
    cursor: not-allowed;
}

/* Append these rules to your existing style.css */

/* ================================= */
/* === Stock Portfolio Row Styling (Updated for Scroll) === */
/* ================================= */

.stock-portfolio-row {
    position: relative;
    padding: 15px 20px;
}

.stock-portfolio-row .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.stock-portfolio-row h2 {
    margin-bottom: 0;
}

/* --- Updated .cards-container --- */
.cards-container {
    display: flex;
    gap: 20px; /* Space between cards (Matches JS) */
    overflow: hidden; /* Hide cards that don't fit */
    scroll-behavior: smooth;
    padding-bottom: 0;
    /* === START: Added Width Constraint === */
    /* Calculate max-width: (4 cards * card_width) + (3 gaps * gap_width) */
    /* Using cardWidth=220, gap=20 from JS: (4 * 220) + (3 * 20) = 880 + 60 = 940 */
    max-width: 940px; /* Adjust if your card width/gap is different! */
    /* You might also need margin: 0 auto; if you want to center this container */
    /* margin: 0 auto; */
    /* === END: Added Width Constraint === */
}

/* --- Stock Card (Ensure fixed width) --- */
.stock-card {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px;
    min-width: 220px; /* Fixed width (Matches JS) */
    width: 220px;     /* Fixed width (Matches JS) */
    flex-shrink: 0; /* Prevent shrinking */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    transition: box-shadow 0.2s ease-in-out;
}

/* --- Scroll Arrow Buttons --- */
.scroll-buttons {
    display: flex;
    gap: 5px;
}

.scroll-arrow {
    background-color: #e0e0e0;
    border: none;
    color: #555;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    font-size: 0.8em;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.scroll-arrow:hover {
    background-color: #ccc;
    color: #000;
}

.scroll-arrow:disabled {
    background-color: #f0f0f0;
    color: #bbb;
    cursor: not-allowed;
}

/* ============================ */
/* === Mini Chart Styling === */
/* ============================ */

.mini-chart {
    width: 60px;
    height: 30px;
    display: inline-block;
    vertical-align: middle;
    line-height: 0;
}

.mini-chart svg {
    display: block;
    width: 100%;
    height: 100%;
}

.mini-chart svg polyline {
    /* Styling set in JS */
}

/* ============================ */
/* === Base & Layout Styling === */
/* ============================ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    height: 100%;
    /* Use Inter font */
    font-family: 'Inter', sans-serif;
    /* Light background for the page */
    background-color: #f4f7fa;
    /* Default text color */
    color: #333;
    /* Base font size - adjust if needed */
    font-size: 14px;
    /* Default line height */
    line-height: 1.5;
}

.dashboard-container {
    display: grid;
    grid-template-columns: 240px 1fr; /* Fixed sidebar, flexible main */
    grid-template-rows: 1fr; /* Full height row */
    height: 100vh; /* Full viewport height */
}

.main-content {
    display: flex;
    flex-direction: column; /* Stack top-bar and grid vertically */
    overflow-y: auto; /* Allow main content to scroll if needed */
}

.dashboard-grid {
    padding: 30px; /* Consistent padding */
    flex-grow: 1; /* Take remaining vertical space */
    display: grid;
    grid-template-columns: 2fr 1fr; /* Main area takes 2/3, details 1/3 */
    grid-template-rows: auto 1fr; /* Portfolio row auto height, chart takes rest */
    gap: 30px; /* Consistent gap */
    grid-template-areas:
        "portfolio-row details" /* Area names for clarity */
        "main-chart    details";
}

h2 {
    margin-bottom: 15px;
    font-size: 1.15em; /* Slightly smaller heading */
    font-weight: 500; /* Medium weight */
    color: #111; /* Darker heading color */
}

/* ================================= */
/* === Stock Portfolio Row Styling === */
/* ================================= */
.stock-portfolio-row {
    position: relative; /* Needed for absolute positioning of scroll buttons */
    padding: 20px; /* Consistent padding */
    background-color: #ffffff;
    border-radius: 8px;
    grid-area: portfolio-row; /* Place in grid */
    border: 1px solid #e0e0e0; /* Subtle border */
    overflow: hidden; /* Hide anything extending beyond padding */
}
.stock-portfolio-row .section-header {
    display: flex;
    justify-content: space-between; /* Title left, buttons right */
    align-items: center;
    margin-bottom: 20px; /* Increased space */
}
.stock-portfolio-row h2 {
    margin-bottom: 0; /* Remove default margin */
}
.cards-container {
    display: flex; /* Lay out cards horizontally */
    gap: 20px; /* Space between cards (Matches JS) */
    overflow: hidden; /* Hide overflowing cards */
    scroll-behavior: smooth; /* Animate scrolling */
    /* Calculate max-width: (4 cards * card_width) + (3 gaps * gap_width) */
    /* Using cardWidth=220, gap=20 from JS: (4 * 220) + (3 * 20) = 880 + 60 = 940 */
    max-width: 940px; /* Max width for 4 cards + 3 gaps */
    /* margin: 0 auto; */ /* Uncomment to center if container is narrower than grid area */
}
.stock-card {
    background-color: #ffffff;
    border: 1px solid #e8e8e8; /* Lighter border */
    border-radius: 8px;
    padding: 15px;
    min-width: 220px; /* Fixed width (Matches JS) */
    width: 220px;     /* Fixed width (Matches JS) */
    flex-shrink: 0; /* Prevent cards from shrinking */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Space out top and bottom */
    transition: box-shadow 0.2s ease-in-out; /* Subtle hover effect */
}
.stock-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Add shadow on hover */
}
.card-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}
.stock-info {
    display: flex;
    align-items: center;
}
.stock-logo {
    width: 28px; /* Logo size */
    height: 28px;
    border-radius: 50%; /* Circular logo */
    margin-right: 10px;
    background-color: #eee; /* Placeholder background */
    /* Add styles for actual image if using src */
    object-fit: contain;
}
.stock-name {
    font-size: 0.9em;
    font-weight: 500; /* Medium weight */
    color: #333;
}
.stock-ticker-perf {
    text-align: right;
}
.stock-ticker {
    font-size: 0.8em;
    color: #777;
    display: block; /* Ticker above percentage */
}
.stock-perf {
    font-size: 0.9em;
    font-weight: 500;
}
.stock-perf.positive { color: #28a745; /* Green */ }
.stock-perf.negative { color: #dc3545; /* Red */ }
.card-bottom {
    display: flex;
    justify-content: space-between;
    align-items: flex-end; /* Align items to bottom */
}
.portfolio-value {
    line-height: 1.2;
}
.portfolio-label {
    font-size: 0.75em;
    color: #777;
    display: block;
}
.portfolio-amount {
    font-size: 1em;
    font-weight: 700; /* Bolder amount */
    color: #333;
}
.scroll-buttons {
    display: flex;
    gap: 5px; /* Space between arrow buttons */
}
.scroll-arrow {
    background-color: #f0f0f0; /* Lighter arrows */
    border: none;
    color: #666;
    border-radius: 50%; /* Circular buttons */
    width: 28px;
    height: 28px;
    font-size: 0.8em;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s ease, color 0.2s ease;
}
.scroll-arrow:hover {
    background-color: #e0e0e0; /* Darker on hover */
    color: #000;
}
.scroll-arrow:disabled {
    background-color: #f8f8f8; /* Very light when disabled */
    color: #ccc;
    cursor: not-allowed;
}

/* ============================ */
/* === Mini Chart Styling === */
/* ============================ */
.mini-chart {
    width: 60px; /* SVG width */
    height: 30px; /* SVG height */
    display: inline-block;
    vertical-align: bottom; /* Align better with text */
    line-height: 0; /* Prevent extra space */
}
.mini-chart svg {
    display: block; /* Prevent extra space */
    width: 100%;
    height: 100%;
}
.mini-chart svg polyline {
    /* Styling (stroke, stroke-width, fill) set dynamically in JS */
}

/* ============================================ */
/* === Chart Container & Canvas Styling === */
/* ============================================ */
.main-chart-area {
    display: flex;
    flex-direction: column; /* Stack header, chart, footer */
    overflow: hidden; /* Prevent content spill */
    position: relative;
    background-color: #ffffff;
    padding: 20px; /* Consistent padding */
    border-radius: 8px;
    grid-area: main-chart; /* Place in grid */
    border: 1px solid #e0e0e0; /* Subtle border */
}
.chart-canvas-container {
    flex-grow: 1; /* Allow container to take available vertical space */
    position: relative; /* Needed for Chart.js responsiveness */
    min-height: 250px; /* Ensure minimum drawing space */
}
#portfolioChart {
    /* Canvas should fill its container */
     max-width: 100%;
}

/* ================================= */
/* === Main Chart Area Styling === */
/* ================================= */
.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start; /* Align items to top */
    margin-bottom: 20px;
    flex-wrap: wrap; /* Allow wrapping on small screens */
    gap: 10px; /* Add gap for wrapping */
}
.chart-title-info span {
    margin-right: 10px; /* Reduced space */
    display: inline-block; /* Needed for margin */
    vertical-align: bottom; /* Align text better */
}
.chart-stock-name {
    font-size: 1.1em;
    font-weight: 700; /* Bold name */
    color: #111;
}
.chart-stock-value {
    font-size: 1.1em;
    font-weight: 500; /* Medium value */
    color: #333;
}
.chart-stock-perf {
    font-size: 1em;
    font-weight: 500;
}
.chart-stock-perf.positive { color: #28a745; }
.chart-stock-perf.negative { color: #dc3545; }
.chart-stock-change {
    font-size: 0.9em;
    color: #777;
}
.chart-stock-change.positive { color: #28a745; }
.chart-stock-change.negative { color: #dc3545; }
.chart-time-ranges {
    background-color: #f0f0f0; /* Button group background */
    border-radius: 6px;
    padding: 3px;
    display: inline-flex; /* Shrink to content */
}
.time-range-btn {
    background-color: transparent;
    border: none;
    padding: 5px 10px;
    margin: 0 2px; /* Small space between buttons */
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.8em;
    color: #555;
    transition: background-color 0.2s ease, color 0.2s ease;
}
.time-range-btn:hover {
    background-color: #e0e0e0;
}
.time-range-btn.active {
    background-color: #ffffff; /* White active button */
    color: #333;
    font-weight: 500; /* Medium weight active */
    box-shadow: 0 1px 3px rgba(0,0,0,0.1); /* Subtle shadow */
}
.chart-footer {
    margin-top: 10px;
    text-align: right;
}
.prev-close-label {
    font-size: 0.8em;
    color: #777;
}

/* ============================ */
/* === Details Panel Styling === */
/* ============================ */
.details-panel {
    display: flex;
    flex-direction: column; /* Stack cards vertically */
    gap: 20px; /* Space between cards */
    background-color: #ffffff;
    padding: 20px; /* Consistent padding */
    border-radius: 8px;
    grid-area: details; /* Place in grid */
    border: 1px solid #e0e0e0; /* Subtle border */
}
.details-panel h2 {
    margin-bottom: 0; /* Remove margin as cards have padding */
}
.details-card {
    /* Common styles for cards in details panel */
    background-color: #ffffff;
    border: 1px solid #e8e8e8; /* Lighter border */
    border-radius: 8px;
    padding: 15px;
}
.sp500-details .details-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #f0f0f0; /* Light border */
}
.details-title {
    font-weight: 500; /* Medium weight title */
    font-size: 1em;
}
.details-time-filter {
    display: flex;
    align-items: center;
    background-color: #f0f0f0; /* Match chart time range bg */
    border-radius: 6px;
    padding: 5px 8px;
    font-size: 0.8em;
    color: #555;
    cursor: pointer;
}
.details-time-filter i {
    margin: 0 3px; /* Space around icons */
    font-size: 0.9em;
}
.details-card-body { /* Container for key-value pairs */ }
.detail-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0; /* Vertical padding */
    font-size: 0.85em; /* Slightly smaller text */
    border-bottom: 1px solid #f9f9f9; /* Very light border */
}
.detail-item:last-child {
    border-bottom: none; /* Remove border on last item */
}
.detail-key {
    color: #666; /* Slightly darker key */
}
.detail-value {
    color: #333;
    font-weight: 500; /* Medium weight value */
}
.market-cap-summary {
    display: flex;
    align-items: center;
    padding: 10px 15px; /* Adjusted padding */
    background-color: #f8f8f8; /* Light background */
    /* Inherits border/radius from .details-card */
}
.market-cap-icon {
    font-size: 1.1em; /* Adjusted icon size */
    color: #666;
    margin-right: 10px;
    width: 20px; /* Give icon fixed width */
    text-align: center;
}
.market-cap-label {
    color: #555;
    font-size: 0.9em;
    margin-right: auto; /* Push value to the right */
}
.market-cap-value {
    color: #333;
    font-weight: 500; /* Medium weight */
    font-size: 0.95em;
}

/* ============================ */
/* === Sidebar Styling === */
/* ============================ */
.sidebar {
    display: flex;
    flex-direction: column; /* Stack sections vertically */
    gap: 25px; /* Space between sections */
    background-color: #ffffff;
    padding: 20px;
    border-right: 1px solid #e0e0e0;
}
.sidebar-header {
    padding-top: 10px;
    text-align: center;
    margin-bottom: 10px; /* Added margin */
}
.sidebar-title {
    font-size: 1.2em; /* Adjusted size */
    font-weight: 700; /* Bold title */
    color: #111;
}
.sidebar-watchlist { /* Container for watchlist items */ }
.watchlist-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    margin-bottom: 5px;
    border-radius: 6px;
    text-decoration: none;
    color: inherit;
    transition: background-color 0.2s ease;
    border: 1px solid #eee; /* Added subtle border */
}
.watchlist-item:hover {
    background-color: #f5f5f5; /* Lighter hover */
}
.watchlist-ticker {
    font-size: 0.9em;
    font-weight: 500;
    color: #333;
}
.watchlist-details { text-align: right; }
.watchlist-value { font-size: 0.9em; color: #555; display: block; }
.watchlist-change { font-size: 0.8em; font-weight: 500; }
.watchlist-change.positive { color: #28a745; }
.watchlist-change.negative { color: #dc3545; }
.sidebar-menu {
    margin-top: 10px;
    flex-grow: 1; /* Allow menu to take remaining space */
}
.menu-title {
    font-size: 0.7em; /* Smaller title */
    font-weight: 700; /* Bold */
    color: #aaa;
    text-transform: uppercase;
    letter-spacing: 0.8px; /* Increased spacing */
    margin-bottom: 10px;
    padding: 0 10px; /* Align with menu item padding */
}
.sidebar-menu ul { list-style: none; padding: 0; margin: 0; }
.sidebar-menu li { margin-bottom: 5px; }
.menu-item {
    display: flex;
    align-items: center;
    padding: 10px;
    border-radius: 6px;
    text-decoration: none;
    color: #555; /* Default menu item color */
    transition: background-color 0.2s ease, color 0.2s ease;
    font-size: 0.9em; /* Adjusted size */
    font-weight: 500; /* Medium weight */
}
.menu-item:hover {
    background-color: #f0f0f0; /* Light background on hover */
    color: #222;
}
.menu-item.active {
    background-color: #e8e8e8; /* Lighter active background */
    color: #111; /* Darker active text */
    font-weight: 500;
}
.menu-icon {
    width: 20px; /* Fixed width for icon alignment */
    text-align: center;
    margin-right: 12px; /* Increased space */
    font-size: 1em; /* Adjusted icon size */
    color: #888; /* Default icon color */
}
.menu-item:hover .menu-icon,
.menu-item.active .menu-icon {
    color: #111; /* Darker icon on hover/active */
}

/* ============================ */
/* === Top Bar Styling === */
/* ============================ */
.top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #ffffff;
    padding: 10px 30px; /* Adjusted padding */
    border-bottom: 1px solid #e0e0e0;
    height: 60px; /* Adjusted height */
    flex-shrink: 0; /* Prevent shrinking */
}
.search-bar {
    display: flex;
    align-items: center;
    background-color: #f4f7fa; /* Match page background */
    padding: 8px 15px;
    border-radius: 6px; /* Less round */
    width: 350px; /* Wider */
    border: 1px solid #e8e8e8; /* Subtle border */
}
.search-icon { color: #aaa; margin-right: 10px; }
.search-bar input[type="text"] { border: none; outline: none; background-color: transparent; width: 100%; font-size: 0.9em; }
.search-bar input[type="text"]::placeholder { color: #aaa; }
.user-profile { display: flex; align-items: center; }
.avatar { width: 32px; height: 32px; border-radius: 50%; margin-right: 10px; background-color: #ddd; /* Placeholder */ }
.user-details { display: flex; flex-direction: column; line-height: 1.3; /* Adjusted spacing */ }
.user-name { font-weight: 500; font-size: 0.9em; color: #333; }
.user-email { font-size: 0.75em; color: #777; }





